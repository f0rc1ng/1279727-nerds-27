var link = document.querySelector(".button--small"), popup = document.querySelector(".contact-popup"), close = popup.querySelector(".modal-close"), form = popup.querySelector("form"), login = popup.querySelector("[name=name]"), email = popup.querySelector("[name=email]"), isStorageSupport = !0, storage = ""; try { storage = localStorage.getItem("login") } catch (e) { isStorageSupport = !1 } link.addEventListener("click", function (e) { e.preventDefault(), popup.classList.add("modal-show"), storage ? (login.value = storage, email.focus()) : login.focus() }), close.addEventListener("click", function (e) { e.preventDefault(), popup.classList.remove("modal-show"), popup.classList.remove("modal-error") }), form.addEventListener("submit", function (e) { login.value && email.value ? isStorageSupport && localStorage.setItem("login", login.value) : (e.preventDefault(), popup.classList.remove("modal-error"), popup.offsetWidth = popup.offsetWidth, popup.classList.add("modal-error")) });